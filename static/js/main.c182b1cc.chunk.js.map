{"version":3,"sources":["img/icon-cart.png","img/logo.png","libs/api.js","models/products.js","models/categories.js","models/cart.js","models/filterValue.js","models/index.js","store.js"," components/Product.js"," components/Category.js","selectors/totalPrice.js"," components/CartButton.js","selectors/numberProductsInCart.js"," components/Header.js","selectors/categoryForProductSelector.js","selectors/getNameOfId.js","pages/ProductsPage.js"," components/ProductExtended.js","pages/ProductPage.js"," components/CartItem.js","pages/CartPage.js","pages/HomePage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","baseUrl","process","checkStatus","response","ok","Error","readJson","json","fetchJSON","url","options","fetch","then","loadProduct","id","concat","createModel","loadProducts","queryParams","qs","stringify","state","list","reducers","setList","effects","dispatch","loadAll","_loadAll","Object","asyncToGenerator","regenerator_default","a","mark","_callee","rootState","products","wrap","_context","prev","next","sent","this","stop","_x","_x2","apply","arguments","loadOne","_loadOne","_callee2","product","_context2","_x3","_x4","loadCategories","_loadCategories2","payload","categories","cart","items","addProduct","item","find","quantity","push","removeProduct","productId","filter","setQuantity","Number","STORAGE_KEY","models","productsInCart","filterValue","priceFrom","priceTo","filterPriceFrom","filterPriceTo","immer","immerPlugin","store","init","plugins","redux","initialState","storageData","localStorage","getItem","JSON","parse","loadStateFromLocalStorage","middlewares","action","console","log","x","result","getState","subscribe","cartState","setItem","saveStateToLocalStorage","window","Product","_ref","react_default","createElement","src","image","alt","name","className","price","toFixed","Link","to","Category","category","props","Component","totalPrice","reduce","connect","productsQuantity","icon","Header","href","logo","map","_components_Category","key","_components_CartButton","title","categoryForProductSelector","categoryId","getNameOfId","data","itemId","filterParametrsPrice","ProductsPage","loadData","nextProps","match","path","productsQueryParams","params","_this$props","_components_Header","onChange","e","target","value","parametr","i","_components_Product","React","ownProps","description","onClick","ProductPage","_components_ProductExtended","CartItem","type","CartPage","_this","cartItems","totalPriceSelector","HomePage","App","es","BrowserRouter","Switch","Route","component","Boolean","location","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c182b1cc.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icon-cart.3c5673b4.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.688a3e40.png\";","import qs from \"qs\";\nconst baseUrl = process.env.REACT_APP_API_URL;\n\nfunction checkStatus(response) {\n  if (response.ok) {\n    return response;\n  } else {\n    throw new Error(\"server error\");\n  }\n}\n\nfunction readJson(response) {\n  return response.json();\n}\n\nfunction fetchJSON(url, options) {\n  return fetch(url, options)\n    .then(checkStatus)\n    .then(readJson);\n}\n\nexport function loadProducts(queryParams) {\n  return fetchJSON(`${baseUrl}/products?${qs.stringify(queryParams)}`);\n}\nexport function loadProduct(id) {\n  return fetch(`${baseUrl}/products/${id}`)\n    .then(checkStatus)\n    .then(readJson);\n}\n\nexport function loadCategories() {\n  return fetchJSON(`${baseUrl}/categories`);\n}\n\nexport function loadCategory(id) {\n  return fetch(`${baseUrl}/categories/${id}`)\n    .then(checkStatus)\n    .then(readJson);\n}\n","import { loadProducts, loadProduct } from \"../libs/api\";\nfunction createModel(loadProducts) {\n  return {\n    state: {\n      list: []\n    },\n    reducers: {\n      setList(state, list) {\n        state.list = list;\n      }\n    },\n    effects: dispatch => ({\n      async loadAll(queryParams, rootState) {\n        const products = await loadProducts(queryParams);\n        this.setList(products);\n      },\n\n      async loadOne(id, rootState) {\n        const product = await loadProduct(id);\n        this.setList([product]);\n      }\n    })\n  };\n}\n\nexport { createModel };\nexport default createModel(loadProducts);\n","import { loadCategories } from \"../libs/api\";\n\nfunction createModel(loadCategories) {\n  return {\n    state: {\n      list: []\n    },\n    reducers: {\n      setList(state, list) {\n        state.list = list;\n      }\n    },\n    effects: dispatch => ({\n      async loadCategories(payload, rootState) {\n        const categories = await loadCategories();\n        this.setList(categories);\n      }\n    })\n  };\n}\n\nexport { createModel };\nexport default createModel(loadCategories);\n","const cart = {\n  state: {\n    items: []\n  },\n  reducers: {\n    addProduct(state, product) {\n      const item = state.items.find(item => item.product.id === product.id);\n      if (item) {\n        item.quantity += 1;\n      } else {\n        state.items.push({\n          product: product,\n          quantity: 1\n        });\n      }\n    },\n    removeProduct(state, productId) {\n      state.items = state.items.filter(item => item.product.id !== productId);\n    },\n    setQuantity(state, productId, quantity) {\n      if (quantity === 0) {\n        state.items = state.items.filter(item => item.product.id !== productId);\n      } else {\n        const item = state.items.find(item => item.product.id === productId);\n        item.quantity = Number(quantity);\n      }\n    }\n  }\n};\nexport default cart;\n\nconst STORAGE_KEY = \"productsInCart\";\nexport function loadStateFromLocalStorage() {\n  let storageData = localStorage.getItem(STORAGE_KEY);\n  return JSON.parse(storageData) || cart.state;\n}\n\nexport function saveStateToLocalStorage(store) {\n  let cartState = store.getState().productsInCart;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(cartState));\n}\n","const filterValue = {\n  state: {\n    priceFrom: 0,\n    priceTo: 1000\n  },\n  reducers: {\n    filterPriceFrom(state, payload) {\n      state.priceFrom = Number(payload);\n    },\n    filterPriceTo(state, payload) {\n      state.priceTo = Number(payload);\n    }\n  }\n};\n\nexport default filterValue;\n","import products from \"./products\";\nimport categories from \"./categories\";\nimport productsInCart from \"./cart\";\nimport filterValue from \"./filterValue\";\nexport default {\n  products,\n  categories,\n  productsInCart,\n  filterValue\n};\n","import { init } from \"@rematch/core\";\nimport immerPlugin from \"@rematch/immer\";\n\nimport models from \"./models\";\n\nimport {\n  loadStateFromLocalStorage,\n  saveStateToLocalStorage\n} from \"./models/cart\";\nconst immer = immerPlugin();\n\nconst logger = store => next => action => {\n  console.log(\"dispatching\", action);\n  action.x = 1;\n  let result = next(action);\n  console.log(\"next state\", store.getState());\n  return result;\n};\n\nconst store = init({\n  models,\n  plugins: [immer],\n  redux: {\n    initialState: {\n      productsInCart: loadStateFromLocalStorage()\n    },\n    middlewares: [logger]\n  }\n});\nstore.subscribe(() => {\n  saveStateToLocalStorage(store);\n});\nwindow.store = store;\nexport default store;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport function Product({ product }) {\n  return (\n    <article>\n      <img src={product.image} alt={product.name} />\n      <p className=\"title\">{product.name}</p>\n      <p>{`€${product.price.toFixed(2)}`}</p>\n      <Link to={`/products/${product.id}`}>\n        <button>BUY NOW</button>\n      </Link>\n    </article>\n  );\n}\nexport default Product;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nclass Category extends Component {\n  render() {\n    const category = this.props.category;\n    return <Link to={`/categories/${category.id}`}>{category.name}</Link>;\n  }\n}\n\nexport default Category;\n","export default function totalPrice(productsInCart) {\n  const price = productsInCart.items.reduce((prev, { product, quantity }) => {\n    return prev + product.price * quantity;\n  }, 0);\n  return Number(price).toFixed(2);\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\n\nimport icon from \"../img/icon-cart.png\";\nimport numberProductsInCart from \"../selectors/numberProductsInCart\";\nimport totalPrice from \"../selectors/totalPrice\";\n\nexport function CartButton({ productsQuantity, totalPrice }) {\n  return (\n    <div className=\"cart-button\">\n      <Link to=\"/cart\">\n        {\" \"}\n        <img alt=\"\" src={icon} />\n        <span>BASKET ({Number(productsQuantity)})</span>\n      </Link>\n    </div>\n  );\n}\n\nconst mapState = state => ({\n  productsQuantity: numberProductsInCart(state.productsInCart),\n  totalPrice: totalPrice(state.productsInCart, state.products.list)\n});\n\nexport default connect(mapState)(CartButton);\n","export default function numberProductsInCart(cart) {\n  return cart.items.reduce((prev, item) => prev + item.quantity, 0);\n}\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Category from \"../ components/Category\";\nimport CartButton from \"../ components/CartButton\";\nimport logo from \"../img/logo.png\";\n\nclass Header extends Component {\n  componentDidMount() {\n    this.props.loadCategories();\n  }\n  render() {\n    return (\n      <header>\n        <div className=\"header-container\">\n          <a className=\"logo\" href=\"/\">\n            <img alt=\"\" src={logo} />\n          </a>\n          <nav className=\"categories-menu\">\n            {this.props.categories.map(category => (\n              <Category key={category.id} category={category} />\n            ))}\n          </nav>\n          <CartButton />\n        </div>\n        <div className=\"title-text\">\n          <p>{this.props.title}</p>\n        </div>\n      </header>\n    );\n  }\n}\nconst mapState = state => ({\n  categories: state.categories.list\n});\n\nconst mapDispatch = ({ categories: { loadCategories } }) => ({\n  loadCategories\n});\nexport default connect(\n  mapState,\n  mapDispatch\n)(Header);\n","export default function categoryForProductSelector(product, categories) {\n  return categories.find(category => category.id === product.categoryId);\n}\n","export default function getNameOfId(data, itemId) {\n  const item = data.find(item => item.id === itemId);\n  return item ? item.name : \"\";\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport Product from \"../ components/Product\";\nimport Header from \"../ components/Header\";\n\nimport categoryForProductSelector from \"../selectors/categoryForProductSelector\";\nimport getNameOfId from \"../selectors/getNameOfId\";\n\nconst filterParametrsPrice = [0, 100, 200, 300, 400, 500, 600, 1000];\n\nclass ProductsPage extends React.Component {\n  componentDidMount() {\n    this.loadData(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.match.url !== this.props.match.url) {\n      this.loadData(nextProps);\n    }\n  }\n\n  loadData(props) {\n    if (props.match.path === \"/categories/:id\") {\n      var productsQueryParams = {\n        filter: { categoryId: props.match.params.id }\n      };\n    }\n\n    props.loadAll(productsQueryParams);\n    props.loadCategories();\n  }\n\n  render() {\n    const {\n      categories,\n      filterPriceFrom,\n      filterPriceTo,\n      filterValue,\n      removeProduct,\n      setQuantity,\n      match\n    } = this.props;\n    return (\n      <div className=\"products-page\">\n        <Header title={getNameOfId(categories, match.params.id)} />\n        <main>\n          <div className=\"filter\">\n            <span>Price:</span>\n            <select onChange={e => filterPriceFrom(e.target.value)}>\n              {filterParametrsPrice.map((parametr, i) => (\n                <option key={i}>{parametr}</option>\n              ))}\n            </select>\n            <select onChange={e => filterPriceTo(e.target.value)}>\n              {filterParametrsPrice.map((parametr, i) => (\n                <option key={i}>{parametr}</option>\n              ))}\n            </select>\n          </div>\n          <div className=\"product-items\">\n            {this.props.products.map(product =>\n              product.price >= filterValue.priceFrom &&\n              product.price <= filterValue.priceTo ? (\n                <Product\n                  key={product.id}\n                  id={product.id}\n                  product={product}\n                  removeProduct={removeProduct}\n                  setQuantity={setQuantity}\n                  category={categoryForProductSelector(product, categories)}\n                />\n              ) : (\n                <div key={product.id} />\n              )\n            )}\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nconst mapState = state => ({\n  products: state.products.list,\n  categories: state.categories.list,\n  filterValue: state.filterValue\n});\n\nconst mapDispatch = ({ products, categories, filterValue }) => ({\n  loadAll: products.loadAll,\n  loadCategories: categories.loadCategories,\n  filterPriceFrom: filterValue.filterPriceFrom,\n  filterPriceTo: filterValue.filterPriceTo\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(ProductsPage);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nfunction ProductExtended({ product, category, addProduct }) {\n  return (\n    <article className=\"product\">\n      <div className=\"product-img\">\n        <img src={product.image} alt={product.name} />\n      </div>\n      <div className=\"product-discription\">\n        <h1>{product.name}</h1>\n        <h2>Category: {category ? category.name : \"\"}</h2>\n        <p>{product.description}</p>\n        <p className=\"price\">{`€${product.price.toFixed(2)}`}</p>\n        <button onClick={addProduct}>ADD TO CART</button>\n      </div>\n    </article>\n  );\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  addProduct: () => dispatch.productsInCart.addProduct(ownProps.product)\n});\nexport default connect(\n  null,\n  mapDispatchToProps\n)(ProductExtended);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport ProductExtended from \"../ components/ProductExtended\";\nimport Header from \"../ components/Header\";\n\nimport categoryForProductSelector from \"../selectors/categoryForProductSelector\";\n\nclass ProductPage extends React.Component {\n  componentDidMount() {\n    this.props.loadOne(this.props.match.params.id);\n  }\n\n  render() {\n    const product = this.props.product;\n    return this.props.product ? (\n      <div className=\"product-page\">\n        <Header title={product.name} />\n        <main>\n          <ProductExtended\n            category={categoryForProductSelector(\n              product,\n              this.props.categories\n            )}\n            product={product}\n          />\n        </main>\n      </div>\n    ) : (\n      \"loading\"\n    );\n  }\n}\n\nconst mapState = (state, props) => ({\n  categories: state.categories.list,\n  product: state.products.list.find(\n    product => product.id === props.match.params.id\n  )\n});\n\nconst mapDispatch = ({ products: { loadOne } }) => ({\n  loadOne\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(ProductPage);\n","import React from \"react\";\n\nexport default function CartItem({\n  product,\n  quantity,\n  setQuantity,\n  removeProduct\n}) {\n  return (\n    <article>\n      <img src={product.image} alt={product.name} />\n      <div className=\"details\">\n        <p className=\"title\">{product.name}</p>\n        <input\n          type=\"number\"\n          value={quantity}\n          onChange={e => setQuantity(product.id, e.target.value)}\n        />\n        <p>1x {`€${product.price.toFixed(2)}`}</p>\n        <button onClick={() => removeProduct(product.id)}>remove</button>\n      </div>\n    </article>\n  );\n}\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport CartItem from \"../ components/CartItem\";\nimport Header from \"../ components/Header\";\nimport totalPriceSelector from \"../selectors/totalPrice\";\n\nclass CartPage extends React.Component {\n  render() {\n    const { cartItems, totalPrice } = this.props;\n    return (\n      <div className=\"cart-page\">\n        <Header title={\"Basket\"} />\n        <main>\n          {cartItems.map(item => (\n            <CartItem\n              key={item.product.id}\n              product={item.product}\n              quantity={item.quantity}\n              setQuantity={this.props.setQuantity}\n              removeProduct={this.props.removeProduct}\n            />\n          ))}\n          <p className=\"total\">Total: €{totalPrice}</p>\n        </main>\n      </div>\n    );\n  }\n}\n\nconst mapState = state => ({\n  cartItems: state.productsInCart.items,\n  totalPrice: totalPriceSelector(state.productsInCart)\n});\n\nconst mapDispatch = ({ productsInCart }) => ({\n  removeProduct: productsInCart.removeProduct,\n  setQuantity: productsInCart.setQuantity\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(CartPage);\n","import React from \"react\";\nimport Header from \"../ components/Header\";\n\nclass HomePage extends React.Component {\n  render() {\n    return (\n      <Header title={\"Buckle your seat belts it's going to be a bumpy ride\"} />\n    );\n  }\n}\nexport default HomePage;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\n\nimport store from \"./store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport ProductsPage from \"./pages/ProductsPage\";\nimport ProductPage from \"./pages/ProductPage\";\nimport CartPage from \"./pages/CartPage\";\nimport HomePage from \"./pages/HomePage\";\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <Provider store={store}>\n          <Router>\n            <Switch>\n              <Route path=\"/cart\" component={CartPage} />\n\n              <Route path=\"/products/:id\" component={ProductPage} />\n              <Route path=\"/products\" component={ProductsPage} />\n\n              <Route path=\"/categories/:id\" component={ProductsPage} />\n              <Route path=\"/categories\" component={HomePage} />\n              <Route path=\"/\" component={HomePage} />\n            </Switch>\n          </Router>\n        </Provider>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}