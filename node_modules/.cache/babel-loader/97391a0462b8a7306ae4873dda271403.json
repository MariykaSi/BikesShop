{"ast":null,"code":"import { init } from \"@rematch/core\";\nimport immerPlugin from \"@rematch/immer\";\nimport models from \"./models\";\nimport { loadStateFromLocalStorage, saveStateToLocalStorage } from \"./models/cart\";\nvar immer = immerPlugin();\n\nvar logger = function logger(store) {\n  return function (next) {\n    return function (action) {\n      console.log(\"dispatching\", action);\n      action.x = 1;\n      var result = next(action);\n      console.log(\"next state\", store.getState());\n      return result;\n    };\n  };\n};\n\nvar store = init({\n  models: models,\n  plugins: [immer],\n  redux: {\n    initialState: {\n      productsInCart: loadStateFromLocalStorage()\n    },\n    middlewares: [logger]\n  }\n});\nstore.subscribe(function () {\n  saveStateToLocalStorage(store);\n});\nwindow.store = store;\nexport default store;","map":{"version":3,"sources":["/Users/mariyasinoverska/Documents/studyFiles/js/beetrootAcademy/myProject/bikes/src/store.js"],"names":["init","immerPlugin","models","loadStateFromLocalStorage","saveStateToLocalStorage","immer","logger","store","next","action","console","log","x","result","getState","plugins","redux","initialState","productsInCart","middlewares","subscribe","window"],"mappings":"AAAA,SAASA,IAAT,QAAqB,eAArB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,SACEC,yBADF,EAEEC,uBAFF,QAGO,eAHP;AAIA,IAAMC,KAAK,GAAGJ,WAAW,EAAzB;;AAEA,IAAMK,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAI,UAAAC,IAAI;AAAA,WAAI,UAAAC,MAAM,EAAI;AACxCC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,MAA3B;AACAA,MAAAA,MAAM,CAACG,CAAP,GAAW,CAAX;AACA,UAAIC,MAAM,GAAGL,IAAI,CAACC,MAAD,CAAjB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BJ,KAAK,CAACO,QAAN,EAA1B;AACA,aAAOD,MAAP;AACD,KAN2B;AAAA,GAAR;AAAA,CAApB;;AAQA,IAAMN,KAAK,GAAGP,IAAI,CAAC;AACjBE,EAAAA,MAAM,EAANA,MADiB;AAEjBa,EAAAA,OAAO,EAAE,CAACV,KAAD,CAFQ;AAGjBW,EAAAA,KAAK,EAAE;AACLC,IAAAA,YAAY,EAAE;AACZC,MAAAA,cAAc,EAAEf,yBAAyB;AAD7B,KADT;AAILgB,IAAAA,WAAW,EAAE,CAACb,MAAD;AAJR;AAHU,CAAD,CAAlB;AAUAC,KAAK,CAACa,SAAN,CAAgB,YAAM;AACpBhB,EAAAA,uBAAuB,CAACG,KAAD,CAAvB;AACD,CAFD;AAGAc,MAAM,CAACd,KAAP,GAAeA,KAAf;AACA,eAAeA,KAAf","sourcesContent":["import { init } from \"@rematch/core\";\nimport immerPlugin from \"@rematch/immer\";\n\nimport models from \"./models\";\n\nimport {\n  loadStateFromLocalStorage,\n  saveStateToLocalStorage\n} from \"./models/cart\";\nconst immer = immerPlugin();\n\nconst logger = store => next => action => {\n  console.log(\"dispatching\", action);\n  action.x = 1;\n  let result = next(action);\n  console.log(\"next state\", store.getState());\n  return result;\n};\n\nconst store = init({\n  models,\n  plugins: [immer],\n  redux: {\n    initialState: {\n      productsInCart: loadStateFromLocalStorage()\n    },\n    middlewares: [logger]\n  }\n});\nstore.subscribe(() => {\n  saveStateToLocalStorage(store);\n});\nwindow.store = store;\nexport default store;\n"]},"metadata":{},"sourceType":"module"}